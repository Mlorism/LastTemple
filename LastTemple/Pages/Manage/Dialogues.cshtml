@page
@model LastTemple.Pages.Manage.DialoguesModel
@{
}

<div class="row">
    <div class="col-3 text-center">
        <form method="post">        
            <select class="form-control bg-secondary text-light m-2" size="@Model.Dialogues.Count" asp-for="DialogueId">
                @foreach (var item in Model.Dialogues)
                {
                    <option value="@item.Id"> (#@item.Id) @item.Description</option>                   
                }
            </select>

            <input class="form-control bg-secondary text-light m-2" type="text" min="3" data-default="Tytuł dialogu" name="DialogueName" value="Tytuł dialogu" onclick="selectPlaceholder(this)" onfocusout="deselectPlaceholder(this)" asp-for="DialogueName"/>                    
            <button class="btn btn-outline-success m-2" type="submit" asp-page-handler="CreateDialogue">Nowy dialog</button>        
            <button class="btn btn-outline-warning m-2" type="submit" asp-page-handler="EditName">Edytuj tytuł</button>        
            <button class="btn btn-outline-danger m-2" type="submit" asp-page-handler="DeleteDialogue">Usuń dialog</button>        
        </form>
    </div>

    <div class="col-4 text-center">
        <span>
            <button class="btn btn-warning">    <   </button>
            <button class="btn btn-warning">    <b>+</b>    </button>
            <button class="btn btn-warning">    >   </button>
        </span> <br />

        <span class="font-weight-bold">0/x</span>

        <div class="text-justify">
            @foreach (var item in Model.Dialogues[0].SubDialogues[0].Content)
            {
                <span>@item</span><br />
            }
        </div>
    </div>

    <div class="col-5">
        @foreach (var item in Model.Dialogues)
        {
            <span>@item</span><br />
        }
    </div>
</div>

<script type="text/javascript">

    function selectPlaceholder(input) {
        if (input.value == "Tytuł dialogu") {
            input.value = "";
        }
    }

    function deselectPlaceholder(input) {
        if (input.value == "") {
            let x = input.dataset.default;
            input.value = x;
        }
    }


</script>